<link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons.css">
<style>
input[type="text"] 
{
    width: 200px;
}
</style>

<div id="loading" class="gray">Loading...</div>
<div id="main" style="display:none;">
Shortened link to this document: <input id="url" onclick="this.select();" type="text" value="" readonly />
</div>
<br>
<input type="button" class="action" value="Okay" onclick="google.script.host.close();">

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script>
$(function() {
  google.script.run.withSuccessHandler(start)
                   .withFailureHandler(fail)
                   .shortenDocUrl();
})

function start(docUrl) {
  $('#url').val(docUrl);
  $('#loading').hide();
  $('#main').fadeIn();
}

function fail(error) {
  google.script.run.showError(error.message + '.');
}
</script>
